# 背景
用 react + next 做 edge extension



# 思路

参考 [react + webpack + chrome](https://juejin.cn/post/7196905678438481957?searchId=202312011349350FDFC8B1E8F66668C337)
+ react 有自己的的代码结构： 画ui最终打包生成 静态页面
+ chrome 有自己的代码结构： 一个静态页面

示例的思路是 用 react 开发，用 webpack 打包生成  chrome 需要的格式。

next 是 react 专门的脚手架，内置 webpack ，可以代替 webpack 的作用。

所以 整体思路是： 
+ 以 react + next 框架为主。
+ chrome 需要的配置文件，放到 静态资源里。
+ next 编译生成文件


# 结构的设计
## 项目结构设计
+ extension 自定义 edge 插件
+ 其他 npx create-next-app@latest 创建的
+ out 是静态产出文件

## 插件 extension 目录设计

├── content-scripts
│   └── content.js
├── icons
│   ├── harmonyos128x128.png
│   ├── harmonyos16x16.png
│   ├── harmonyos32x32.png
│   └── harmonyos48x48.png
├── images
│   └── stars.jpeg
├── lib // 三方库
│   └── jquery.min.js
├── manifest.json
└── popup
    ├── popup.html
    └── popup.js

# 实现方案
https://medium.com/@onmyway133/how-to-make-chrome-extension-with-nextjs-13-eb1aed637eda
[靠谱的方案](https://medium.com/@onmyway133/how-to-make-chrome-extension-with-nextjs-13-eb1aed637eda)

+ next.config.js 导出静态文件： output
+ package.json 增加 cp 命令替换。 注意 _next edge 不识别，得换成 next